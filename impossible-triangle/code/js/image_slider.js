function imageSlide(d){var sizeWindow=document.getElementsByClassName("img_holder_v3")[0].hasAttribute("display")?parseInt(document.getElementsByClassName("img_holder_v3")[0].getAttribute("display")):1;var lstImage=document.getElementsByClassName("img_holder_v3")[0].children;var lenLstImage=lstImage.length;var idxCenter;var i;var xp="x_pos",xpL="l",xpR="r",xpC="c",xpLx="lx",xpRx="rx";var posMap=["c"];for(i=0;i<lenLstImage;i++){if(lstImage[i].getAttribute(xp)==xpC){idxCenter=i;break;}}if(d==1){idxCenter=((i+1)>=lenLstImage)?i:(i+1);}else if(d==-1){idxCenter=((i-1)<0)?i:(i-1);}var j;var sizeWindowHalf=Math.floor(sizeWindow/2);for(i=idxCenter-1,j=1;i>=0;i--){if(j<=sizeWindowHalf){posMap.unshift(xpL+j);j++;}else{posMap.unshift(xpLx);}}for(i=idxCenter+1,j=1;i<lenLstImage;i++){if(j<=sizeWindowHalf){posMap.push(xpR+j);j++;}else{posMap.push(xpRx);}}for(i=0;i<lenLstImage;i++){lstImage[i].setAttribute(xp,posMap[i])}var xTransEnd=function(){var event=new CustomEvent("imagesliderend",{detail:lstImage[idxCenter].getAttribute("name")});document.dispatchEvent(event);lstImage[idxCenter].removeEventListener("transitionend",xTransEnd);};if(d===0){var event=new CustomEvent("imagesliderend",{detail:lstImage[idxCenter].getAttribute("name")});document.dispatchEvent(event);}else{lstImage[idxCenter].addEventListener("transitionend",xTransEnd);}}